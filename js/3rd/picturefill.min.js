/*! Picturefill - v2.0.0 - 2014-04-15
* http://scottjehl.github.io/picturefill
* Copyright (c) 2014 https://github.com/scottjehl/picturefill/blob/master/Authors.txt; Licensed MIT */
window.matchMedia||(window.matchMedia=function(){"use strict";var e=window.styleMedia||window.media;if(!e){var t=document.createElement("style"),n=document.getElementsByTagName("script")[0],r=null;t.type="text/css",t.id="matchmediajs-test",n.parentNode.insertBefore(t,n),r="getComputedStyle"in window&&window.getComputedStyle(t,null)||t.currentStyle,e={matchMedium:function(e){var n="@media "+e+"{ #matchmediajs-test { width: 1px; } }";return t.styleSheet?t.styleSheet.cssText=n:t.textContent=n,r.width==="1px"}}}return function(t){return{matches:e.matchMedium(t||"all"),media:t||"all"}}}()),function(e,t){"use strict";function r(e){var t;e=e||{},t=e.elements||n.getAllElements();for(var r=0,i=t.length;r<i;r++){var s=t[r],o=s.nodeName;s[n.ns]||(s[n.ns]={});if(!e.reevaluate&&s[n.ns].evaluated)continue;var u,a,f;if(o==="PICTURE"){n.removeVideoShim(s),u=n.getMatch(s);if(u===!1)continue;f=s.getElementsByTagName("img")[0]}else f=s;f&&(f[n.ns]||(f[n.ns]={}),f.srcset&&n.dodgeSrcset(f),u?(a=n.processSourceSet(u),n.applyBestCandidate(a,f)):(a=n.processSourceSet(f),(f.srcset===undefined||f.hasAttribute("sizes"))&&n.applyBestCandidate(a,f)),s[n.ns].evaluated=!0)}}function i(){r();var n=setInterval(function(){e.picturefill();if(/^loaded|^i|^c/.test(t.readyState)){clearInterval(n);return}},250);if(e.addEventListener){var i;e.addEventListener("resize",function(){e.clearTimeout(i),i=e.setTimeout(function(){r({reevaluate:!0})},60)},!1)}}if(e.HTMLPictureElement)return;t.createElement("picture"),t.createElement("source");var n={};n.ns="picturefill",n.srcsetSupported=(new e.Image).srcset!==undefined,n.trim=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},n.endsWith=function(e,t){return e.endsWith?e.endsWith(t):e.indexOf(t,e.length-t.length)!==-1},n.matchesMedia=function(t){return e.matchMedia&&e.matchMedia(t).matches},n.getDpr=function(){return e.devicePixelRatio||1},n.getWidthFromLength=function(e){return n.lengthEl||(n.lengthEl=t.createElement("div"),t.documentElement.insertBefore(n.lengthEl,t.documentElement.firstChild)),n.lengthEl.style.cssText="width: "+e+";",n.lengthEl.offsetWidth},n.types={},n.types["image/svg+xml"]=t.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1"),n.types["image/webp"]=function(){var t=new e.Image,i="image/webp";t.onerror=function(){n.types[i]=!1,r()},t.onload=function(){n.types[i]=t.width===1,r()},t.src="data:image/webp;base64,UklGRiQAAABXRUJQVlA4IBgAAAAwAQCdASoBAAEAAwA0JaQAA3AA/vuUAAA="},n.verifyTypeSupport=function(e){var t=e.getAttribute("type");return t===null||t===""?!0:typeof n.types[t]=="function"?(n.types[t](),"pending"):n.types[t]},n.findWidthFromSourceSize=function(e){var t=n.trim(e).split(/\s*,\s*/),r;for(var i=0,s=t.length;i<s;i++){var o=t[i],u=/(\([^)]+\))?\s*([^\s]+)/g.exec(o);if(!u)continue;var a=u[2],f;if(!u[1]){r=a;break}f=u[1];if(n.matchesMedia(f)){r=a;break}}if(!r)return 300;var l=n.getWidthFromLength(r);return l},n.getCandidatesFromSourceSet=function(e,t){var r=n.trim(e).split(/\s*,\s*/),i=[],s;t&&(s=n.findWidthFromSourceSize(t));for(var o=0,u=r.length;o<u;o++){var a=r[o],f=a.split(/\s+/),l=f[1],c;l&&(l.slice(-1)==="w"||l.slice(-1)==="x")&&(l=l.slice(0,-1)),t?c=parseFloat((parseInt(l,10)/s).toFixed(2)):c=l?parseFloat(l,10):n.getDpr();var h={url:f[0],resolution:c};i.push(h)}return i},n.dodgeSrcset=function(e){e.srcset&&(e[n.ns].srcset=e.srcset,e.removeAttribute("srcset"))},n.processSourceSet=function(e){var t=e.getAttribute("srcset"),r=e.getAttribute("sizes"),i=[];return e.nodeName==="IMG"&&e[n.ns]&&e[n.ns].srcset&&(t=e[n.ns].srcset),t&&(i=n.getCandidatesFromSourceSet(t,r)),i},n.applyBestCandidate=function(e,t){e.sort(n.descendingSort);var r,i=e[0];for(var s=1;s<e.length;s++){r=e[s];if(!(r.resolution>=n.getDpr()&&r.resolution<=i.resolution))break;i=r}n.endsWith(t.src,i.url)||(t.src=i.url,t.currentSrc=i.url)},n.descendingSort=function(e,t){return t.resolution-e.resolution},n.removeVideoShim=function(e){var t=e.getElementsByTagName("video");if(t.length){var n=t[0],r=n.getElementsByTagName("source");while(r.length)e.insertBefore(r[0],n);n.parentNode.removeChild(n)}},n.getAllElements=function(){var e=t.getElementsByTagName("picture");if(n.srcsetSupported)return e;var r=[],i=t.getElementsByTagName("img");for(var s=0,o=e.length+i.length;s<o;s++)if(s<e.length)r[s]=e[s];else{var u=i[s-e.length];u.parentNode.nodeName!=="PICTURE"&&u.getAttribute("srcset")!==null&&r.push(u)}return r},n.getMatch=function(e){var t=e.getElementsByTagName("source"),r;for(var i=0,s=t.length;i<s;i++){var o=t[i],u=o.getAttribute("media");if(!o.hasAttribute("srcset"))continue;if(!u||n.matchesMedia(u)){var a=n.verifyTypeSupport(o);if(a===!0){r=o;break}if(a==="pending")return!1}}return r},i(),r._=n,typeof module=="object"&&typeof module.exports=="object"?module.exports=r:typeof define=="object"&&define.amd?define(function(){return r}):typeof e=="object"&&(e.picturefill=r)}(this,this.document)